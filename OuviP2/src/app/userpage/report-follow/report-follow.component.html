<main>
  <h2 class="title">Minhas Manifestações</h2>
  <hr class="line">

  <div *ngIf="isLoading">
    <app-spinner></app-spinner>
  </div>

  <div *ngIf="!isLoading" class="status-organization-colors">
    <div class="pending">
      <div class="circle"></div>
      <p>Pendentes</p>
    </div>

    <div class="forwarded">
      <div class="circle"></div>
      <p>Encaminhadas</p>
    </div>

    <div class="completed">
      <div class="circle"></div>
      <p>Concluidas</p>
    </div>
  </div>
  <section class="my-reports">

    <div *ngIf="!isLoading && userReports.length === 0">
      <p style="text-align: center; margin: 2rem;">Você ainda não fez nenhuma manifestação!</p>
    </div>
    
    <div class="reporte" *ngFor="let report of userReports">
      <div class="header" [style.background-color]="getStatusColor(report.statusReporte)">
        <div class="info">
          <svg class="icon-tipo-manifestacao" viewBox="0 0 30 27" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M29.6624 22.9173C30.6237 24.5837 29.417 26.6667 27.4969 26.6667H2.50283C0.579025 26.6667 -0.62212 24.5805 0.337359 22.9173L12.8345 1.24922C13.7964 -0.417916 16.2054 -0.414896 17.1655 1.24922L29.6624 22.9173ZM15 18.4375C13.6768 18.4375 12.6042 19.5102 12.6042 20.8333C12.6042 22.1565 13.6768 23.2292 15 23.2292C16.3232 23.2292 17.3958 22.1565 17.3958 20.8333C17.3958 19.5102 16.3232 18.4375 15 18.4375ZM12.7254 9.82573L13.1117 16.9091C13.1298 17.2405 13.4039 17.5 13.7358 17.5H16.2642C16.5962 17.5 16.8702 17.2405 16.8883 16.9091L17.2746 9.82573C17.2942 9.46771 17.0091 9.16666 16.6506 9.16666H13.3494C12.9908 9.16666 12.7058 9.46771 12.7254 9.82573Z"
              fill="var(--white)" />
          </svg>

          <h3 class="tipo-manifestacao">{{ report.tipoReporte }}</h3>
        </div>

        <div class="info">
          <p class="categoria">{{ report.categoria }}</p>
        </div>
      </div>

      <div class="infos">
        <div class="info">
          <svg class="icon-tipo-manifestacao" viewBox="0 0 30 27" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M10.0938 29.3947C1.58027 17.0526 0 15.7859 0 11.25C0 5.03678 5.03678 0 11.25 0C17.4632 0 22.5 5.03678 22.5 11.25C22.5 15.7859 20.9197 17.0526 12.4062 29.3947C11.8475 30.2018 10.6525 30.2017 10.0938 29.3947ZM11.25 15.9375C13.8388 15.9375 15.9375 13.8388 15.9375 11.25C15.9375 8.66115 13.8388 6.5625 11.25 6.5625C8.66115 6.5625 6.5625 8.66115 6.5625 11.25C6.5625 13.8388 8.66115 15.9375 11.25 15.9375Z"
              [style.fill]="getStatusColor(report.statusReporte)" />
          </svg>
          <p>{{ report.endereco }}, {{ report.bairro }} , n° {{report.numero}}</p>
        </div>

        <div class="info">
          <svg class="icon-tipo-manifestacao" viewBox="0 0 30 27" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M1.875 27.1875C1.875 28.7402 3.13477 30 4.6875 30H25.3125C26.8652 30 28.125 28.7402 28.125 27.1875V11.25H1.875V27.1875ZM20.625 15.7031C20.625 15.3164 20.9414 15 21.3281 15H23.6719C24.0586 15 24.375 15.3164 24.375 15.7031V18.0469C24.375 18.4336 24.0586 18.75 23.6719 18.75H21.3281C20.9414 18.75 20.625 18.4336 20.625 18.0469V15.7031ZM20.625 23.2031C20.625 22.8164 20.9414 22.5 21.3281 22.5H23.6719C24.0586 22.5 24.375 22.8164 24.375 23.2031V25.5469C24.375 25.9336 24.0586 26.25 23.6719 26.25H21.3281C20.9414 26.25 20.625 25.9336 20.625 25.5469V23.2031ZM13.125 15.7031C13.125 15.3164 13.4414 15 13.8281 15H16.1719C16.5586 15 16.875 15.3164 16.875 15.7031V18.0469C16.875 18.4336 16.5586 18.75 16.1719 18.75H13.8281C13.4414 18.75 13.125 18.4336 13.125 18.0469V15.7031ZM13.125 23.2031C13.125 22.8164 13.4414 22.5 13.8281 22.5H16.1719C16.5586 22.5 16.875 22.8164 16.875 23.2031V25.5469C16.875 25.9336 16.5586 26.25 16.1719 26.25H13.8281C13.4414 26.25 13.125 25.9336 13.125 25.5469V23.2031ZM5.625 15.7031C5.625 15.3164 5.94141 15 6.32812 15H8.67188C9.05859 15 9.375 15.3164 9.375 15.7031V18.0469C9.375 18.4336 9.05859 18.75 8.67188 18.75H6.32812C5.94141 18.75 5.625 18.4336 5.625 18.0469V15.7031ZM5.625 23.2031C5.625 22.8164 5.94141 22.5 6.32812 22.5H8.67188C9.05859 22.5 9.375 22.8164 9.375 23.2031V25.5469C9.375 25.9336 9.05859 26.25 8.67188 26.25H6.32812C5.94141 26.25 5.625 25.9336 5.625 25.5469V23.2031ZM25.3125 3.75H22.5V0.9375C22.5 0.421875 22.0781 0 21.5625 0H19.6875C19.1719 0 18.75 0.421875 18.75 0.9375V3.75H11.25V0.9375C11.25 0.421875 10.8281 0 10.3125 0H8.4375C7.92188 0 7.5 0.421875 7.5 0.9375V3.75H4.6875C3.13477 3.75 1.875 5.00977 1.875 6.5625V9.375H28.125V6.5625C28.125 5.00977 26.8652 3.75 25.3125 3.75Z"
              [style.fill]="getStatusColor(report.statusReporte)" />
          </svg>
          <p>{{ report.dataReporte | date: 'dd/MM/yyyy'}}</p>
        </div>

        <div class="info">
          <svg class="icon-tipo-manifestacao" viewBox="0 0 30 27" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M24.8438 0H5.15625C4.37959 0 3.75 0.62959 3.75 1.40625V2.34375C3.75 3.12041 4.37959 3.75 5.15625 3.75C5.15625 9.07998 8.14547 13.5782 12.2368 15C8.14547 16.4218 5.15625 20.92 5.15625 26.25C4.37959 26.25 3.75 26.8796 3.75 27.6562V28.5938C3.75 29.3704 4.37959 30 5.15625 30H24.8438C25.6204 30 26.25 29.3704 26.25 28.5938V27.6562C26.25 26.8796 25.6204 26.25 24.8438 26.25C24.8438 20.92 21.8545 16.4218 17.7632 15C21.8545 13.5782 24.8438 9.07998 24.8438 3.75C25.6204 3.75 26.25 3.12041 26.25 2.34375V1.40625C26.25 0.62959 25.6204 0 24.8438 0ZM20.4446 22.5H9.55547C10.555 19.758 12.608 17.8125 15 17.8125C17.3919 17.8125 19.445 19.7576 20.4446 22.5ZM20.4458 7.5H9.55535C9.13992 6.36023 8.90625 5.08289 8.90625 3.75H21.0938C21.0938 5.08623 20.8601 6.36252 20.4458 7.5Z"
              [style.fill]="getStatusColor(report.statusReporte)" />
          </svg>
          <p>{{ report.statusReporte }}</p>
        </div>
      </div>
    </div>
  </section>
</main>